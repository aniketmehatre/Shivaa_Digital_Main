<main class="client-diary">
  <!-- Hero Section -->
  <section class="diary-hero">
    <div class="hero-container">
      <div class="hero-content">
        <h1 class="hero-title">DigitalShivaa's Client Diary</h1>
        <p class="hero-subtitle">Discover Pune's Top Digital Advertising Agencies</p>
        <p class="hero-description">
          Explore success stories & real outcomes from Pune's leading digital advertising teamsâ€”curated in our client diary.
        </p>
      </div>
    </div>
  </section>

  <!-- Navigation Tabs -->
  <section class="diary-tabs">
    <div class="tabs-container">
      <button 
        class="tab-btn" 
        [class.active]="selectedSection === 'diary'"
        (click)="setSection('diary')">
        <i class="fas fa-images"></i>
        <span>Image Gallery</span>
      </button>
      <button 
        class="tab-btn" 
        [class.active]="selectedSection === 'video'"
        (click)="setSection('video')">
        <i class="fas fa-video"></i>
        <span>Video Gallery</span>
      </button>
    </div>
  </section>

  <!-- Image Gallery Section -->
  <section 
    #diaryContainer
    class="diary-section" 
    *ngIf="selectedSection === 'diary'"
    [@fadeInAnimation]>
    <div class="section-container">
      <div class="section-header">
        <h2>Our Client Success Stories</h2>
        <p>Visual showcase of our digital marketing achievements</p>
      </div>

      <div class="image-gallery">
        <div 
          class="gallery-item" 
          *ngFor="let card of diaryCards; trackBy: trackByDiaryCard"
          [@fadeInAnimation]>
          <div class="gallery-card">
            <div class="image-wrapper">
              <img 
                [src]="'assets/img/Client-dairy/' + card.image" 
                [alt]="card.title"
                loading="lazy"
                (error)="handleImageError($event)">
              <div class="image-overlay">
                <div class="overlay-content">
                  <h3>{{ card.title }}</h3>
                  <span class="tag" *ngIf="card.tag">{{ card.tag }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Video Gallery Section -->
  <section 
    #videoContainer
    class="video-section" 
    *ngIf="selectedSection === 'video'"
    [@fadeInAnimation]>
    <div class="section-container">
      <div class="section-header">
        <h2>Latest Videos from Our Channel</h2>
        <p>Watch our latest digital marketing insights and success stories</p>
      </div>

      <!-- Loading State -->
      <div class="loading-state" *ngIf="isLoadingVideos">
        <div class="spinner"></div>
        <p>Loading videos...</p>
      </div>

      <!-- Error State -->
      <div class="error-state" *ngIf="videoError && !isLoadingVideos">
        <i class="fas fa-exclamation-circle"></i>
        <p>{{ videoError }}</p>
      </div>

      <!-- Video Grid -->
      <div class="video-gallery" *ngIf="!isLoadingVideos && !videoError && videos.length > 0">
        <div 
          class="video-card" 
          *ngFor="let video of videos; trackBy: trackByVideo"
          [@fadeInAnimation]>
          <a 
            [href]="'https://www.youtube.com/watch?v=' + video.id.videoId" 
            target="_blank" 
            rel="noopener noreferrer"
            class="video-link">
            <div class="video-thumbnail">
              <img 
                [src]="video.snippet.thumbnails.medium.url" 
                [alt]="video.snippet.title"
                loading="lazy">
              <div class="play-button">
                <i class="fas fa-play"></i>
              </div>
              <div class="video-duration" *ngIf="video.contentDetails?.duration">
                {{ formatDuration(video.contentDetails.duration) }}
              </div>
            </div>
            <div class="video-info">
              <h3 class="video-title">{{ video.snippet.title }}</h3>
              <p class="video-description">{{ video.snippet.description | slice:0:100 }}...</p>
              <div class="video-meta">
                <span class="video-date">
                  <i class="fas fa-calendar"></i>
                  {{ formatDate(video.snippet.publishedAt) }}
                </span>
                <span class="video-views" *ngIf="video.statistics?.viewCount">
                  <i class="fas fa-eye"></i>
                  {{ formatViews(video.statistics.viewCount) }}
                </span>
              </div>
            </div>
          </a>
        </div>
      </div>

      <!-- Empty State -->
      <div class="empty-state" *ngIf="!isLoadingVideos && !videoError && videos.length === 0">
        <i class="fas fa-video-slash"></i>
        <p>No videos available at the moment.</p>
      </div>
    </div>
  </section>
</main>
